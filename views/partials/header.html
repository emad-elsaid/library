{{ if can .current_user "login" nil }}
<div class="columns">
  <div class="column has-text-right">
    <form action="/auth/google" method="POST">
      {{ .csrf }}
      <button class="button is-danger">
        <span class="icon"><i class="fa-brands fa-google"></i></span>
        <span>Login with Google</span>
      </button>
    </form>
  </div>
</div>
{{ end }}

{{ if .user }}
<div class="columns">
  <div class="column is-narrow">
    <figure class="image is-64x64">
      <a href="/users/{{ .user.Slug }}">
        <img class="is-rounded" src="{{ or .user.Image.String "/default_user" }}"/>
      </a>
    </figure>
  </div>
  <div class="column">
    <p class="title is-4">
      {{ if .user }} <a href="/users/{{ .user.Slug }}"> {{ .user.Name.String }}'s Library </a>
      {{ else }} Library
      {{ end }}
    </p>
    {{ if .user.Description.String }}
    <p class="subtitle is-6"> {{ simple_format .user.Description.String }} </p>
    {{ end }}
  </div>
  <div class="column is-narrow has-text-centered">
    <p class="heading">Books</p>
    <p class="title">{{ books_count .user.ID }}</p>
  </div>
</div>
{{ end }}
