<% if user.description.present? %>
  <div class="notification">
    <%= h(user.description).gsub("\n","<br>") %>
  </div>
<% end %>

<% if books.exists? %>

  <h1 class="title is-3">Books lying around</h1>

  <div class="columns is-mobile is-multiline">
    <% books.includes(:user).each do |book| %>
      <div class="column is-2-tablet is-4-mobile">
        <%= erb :'books/_book', locals: { book: book } %>
      </div>
    <% end %>
  </div>

  <%= partial 'common/_separator' %>
<% end %>

<% shelves.each do |shelf| %>
  <h2 class="title is-3" id="shelf-<%= shelf.id %>">
    <%=h shelf.name %>
  </h2>

  <% if shelf.books.exists? %>
    <div class="columns is-mobile is-multiline">
      <% shelf.books.includes(:user).each do |book| %>
        <div class="column is-2-tablet is-4-mobile">
          <%= erb :'books/_book', locals: { book: book } %>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="notification has-text-centered">
      &nbsp;
    </div>
  <% end %>

  <%= partial 'common/_separator' %>
<% end %>
