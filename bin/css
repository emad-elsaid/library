#!/usr/bin/env bash

gem install --conservative sass
wget --no-clobber --output-document=bulma.zip https://github.com/jgthms/bulma/releases/download/0.9.2/bulma-0.9.2.zip
unzip -u bulma.zip

cat << EOT > bulma.scss
@charset "utf-8";
@import "bulma/bulma.sass";

.cover {
  box-sizing: border-box;
  border-radius: 0px 0.3em 0.3em 0px;
  box-shadow: 0 0 1em #DDD;
}

#menu-switch {
 display: none;
}
#menu-switch:checked + .navbar-brand .navbar-burger span:nth-child(1) {
  transform: translateY(5px) rotate(45deg);
}
#menu-switch:checked + .navbar-brand .navbar-burger span:nth-child(2) {
  opacity: 0;
}
#menu-switch:checked + .navbar-brand .navbar-burger span:nth-child(3) {
  transform: translateY(-5px) rotate(-45deg);
}
#menu-switch:checked ~ .navbar-menu{
 display: block;
}
EOT

sass --sourcemap=none \
     --style compressed \
     bulma.scss:../public/style.css

rm -rf bulma* .sass-cache
